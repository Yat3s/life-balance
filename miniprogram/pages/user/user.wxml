<view class="base-info-container">
  <view class="flex justify-between items-center">
    <view class="flex items-center">
      <image bind:tap="onProfileClick" class="avatar rounded-full w-14 h-14" src="{{ userInfo.avatarUrl }}" mode="aspectFill" />
      <view class="ml-4 flex flex-col gap-3">
        <view class="flex item-center gap-1">
          <view class="text-foreground font-semibold truncate">{{userInfo.nickName}}</view>
          <view wx:if="{{userInfo.company}}" class="profile-company">{{company.name}}</view>
          <view bind:tap="onSettingCompanyClick" wx:if="{{!userInfo.company}}" class="profile-company-unset">
            Verify Your Company
          </view>
        </view>
        <view bind:tap="onCopyId" class="flex items-center mt-0dot5">
          <view class="id-text">ID: {{userInfo.id}}</view>
          <view class="id-copy margin-left-sm">copy</view>
        </view>
      </view>
    </view>
    <image src="../../images/ic_user_edit.svg" bind:tap="onEditUserInfoClick" class="w-6 h-6" />
  </view>

  <view class="mt-10 bg-white rounded-2xl">
    <view class="flex flex-col">
      <view bind:tap="onProfileClick" class="flex items-center justify-between px-6 py-4">
        <view class="flex items-center gap-4">
          <view class="flex items-center justify-center bg-white rounded-full">
            <image class="w-5 h-5" src="../../images/ic_user_profile.svg" />
          </view>
          <view class="text-title">我的资料卡</view>
        </view>
        <image class="w-4 h-4" src="../../images/ic_arrow_right.svg" />
      </view>
      <view bind:tap="onActivityClick" class="flex items-center justify-between px-6 py-4 gap-6">
        <view class="flex items-center gap-4">
          <view class="flex items-center justify-center bg-white rounded-full">
            <image class="w-5 h-5" src="../../images/ic_user_activity.svg" />
          </view>
          <view class="text-title">活动</view>
        </view>
        <image class="w-4 h-4" src="../../images/ic_arrow_right.svg" />
      </view>
      <view bind:tap="onMallClick" class="flex items-center justify-between px-6 py-4 gap-6">
        <view class="flex items-center gap-4">
          <view class="flex items-center justify-center bg-white rounded-full">
            <image class="w-5 h-5" src="../../images/ic_user_mall.svg" />
          </view>
          <view class="text-title">跳蚤市场</view>
        </view>
        <image class="w-4 h-4" src="../../images/ic_arrow_right.svg" />
      </view>
    </view>
  </view>

  <view class="mt-8 bg-white rounded-2xl">
    <view bind:tap="onSponsorClick" class="flex items-center justify-between px-6 py-4">
      <view class="flex items-center gap-4">
        <image class="w-5 h-5" src="../../images/ic_user_sponsor.svg" />
        <view class="text-title">请开发者喝杯咖啡</view>
      </view>
      <image class="w-4 h-4" src="../../images/ic_arrow_right.svg" />
    </view>
    <view bind:tap="onContributionClick" class="flex items-center justify-between px-6 py-4">
      <view class="flex items-center gap-4">
        <image class="w-5 h-5" src="/images/ic_user_contribution.svg" />
        <view class="text-title">贡献者</view>
      </view>
      <image class="w-4 h-4" src="../../images/ic_arrow_right.svg" />
    </view>
    <view bind:tap="onStarClick" class="flex items-center justify-between px-6 py-4">
      <view class="flex items-center gap-4">
        <image class="w-5 h-5" src="/images/ic_user_github.svg" />
        <view class="text-title">Star on Github</view>
      </view>
      <image class="w-4 h-4" src="../../images/ic_arrow_right.svg" />
    </view>
  </view>
</view>
<!-- Pending Auth List (admin) -->
<view bind:tap="onPendingAuthListClick" wx:if="{{userInfo.isAdmin}}" class="flex items-center justify-center bg-buttonBlue p-4 gap-6">
  <view class="font-semibold text-title">待企业认证用户列表</view>
</view>
<!-- Feedback -->
<view class="cu-modal {{showingModal === 'feedback' ? 'show' : ''}}" catchtouchmove>
  <view class="cu-dialog modal-main">
    <view class="flex justify-between">
      <view class="modal-title">Feedback & Help</view>
    </view>
    <view class="feedback-text margin-top">Join MS Life group to send your feedback:</view>
    <view class="text-black">
      Adding Coconut and send
      <text class="text-bold text-black">msglife</text>
      to her
    </view>
    <image show-menu-by-longpress="true" class="coconut-contact margin-top-sm" src="../../images/img_coconut.png" />
    <view class="text-grey">Long press to scan</view>
    <view class="flex items-center justify-end margin-top-lg">
      <view catchtap="onDismissModal" class="cu-btn modal-btn-ok">Done</view>
    </view>
  </view>
</view>
<!-- Sponsor -->
<view class="cu-modal {{showingModal === 'sponsor' ? 'show' : ''}}" catchtouchmove>
  <view class="cu-dialog modal-main">
    <view class="flex justify-between">
      <view class="modal-title">Sponsor</view>
    </view>
    <view class="text-black margin-top">Buy developer a cup of coffee if you like this app!</view>
    <image mode="heightFix" show-menu-by-longpress="true" class="pay margin-top-sm" src="../../images/img_praise.png" />
    <view class="text-grey">Long press to save QR code</view>
    <view class="text-red text-bold">THANK YOU!</view>
    <view class="flex items-center justify-end margin-top-lg">
      <view catchtap="onDismissModal" class="cu-btn modal-btn-ok">Done</view>
    </view>
  </view>
</view>
<!-- Github -->
<view class="cu-modal {{showingModal === 'github' ? 'show' : ''}}" bind:tap="onHideModal">
  <view class="cu-dialog modal-main" catch:tap>
    <view class="flex justify-between">
      <view class="modal-title">Star on Github</view>
    </view>
    <view class="flex flex-col gap-6 margin-top">
      <input class="flex-1 bg-gray-100 rounded p-2 text-sm" value="{{github}}" disabled />
      <view bind:tap="onCopyGithubUrl" class="cu-btn bg-blue text-white w-fit self-end rounded-lg">
        Copy
      </view>
    </view>
  </view>
</view>