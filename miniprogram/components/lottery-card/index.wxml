<view class="border border-solid border-gray-200 p-4 rounded-xl relative" catch:tap="navToLottery">
  <view class="flex">
    <view class="shrink-0">
      <image src="{{lottery.prizeTiers[0].images[0]}}" class="w-24 h-full rounded-lg bg-gray-200" mode="aspectFill" lazy-load="{{true}}" />
    </view>
    <view class="shrink-0 ml-4 z-20">
      <view class="text-gray text-xs">第 {{lottery.phase}} 期</view>
      <view class="font-semibold text-base mt-1 truncate-ellipsis mb-5">{{lottery.title}}</view>
      <!-- Participants -->
      <block wx:if="{{isOngoing}}">
        <view class="flex items-center mt-2">
          <view class="flex items-center ml-1">
            <block wx:for="{{lottery.participants}}" wx:key="userId">
              <view class="-ml-2 rounded-full border border-solid border-gray-300 shrink-0 w-5 h-5">
                <image wx:if="{{index < 3}}" src="{{item.avatarUrl}}" lazy-load="{{true}}" class="w-full h-full rounded-full bg-gray-200" />
              </view>
            </block>
            <view wx:if="{{participantCount > 3}}" class="ml-1 text-xs text-gray-500">
              +{{participantCount - 3}}
            </view>
          </view>
        </view>
      </block>
      <block wx:else>
        <view class="flex items-center mt-2">
          <view class="flex items-center">
            <block wx:for="{{lottery.winners}}" wx:key="userId">
              <view class="-ml-2 rounded-full border border-solid border-gray-300 shrink-0 w-5 h-5">
                <image wx:if="{{index < 3}}" src="{{item.user.avatarUrl}}" lazy-load="{{true}}" class="w-full h-full rounded-full bg-gray-200" />
              </view>
            </block>
            <view wx:if="{{lottery.winners.length > 3}}" class="ml-1 text-xs text-gray-500">
              +{{lottery.winners.length - 3}}
            </view>
          </view>
        </view>
      </block>
    </view>
    <!-- Status text (absolute positioned) -->
    <view class="absolute top-4 right-4 z-20">
      <block wx:if="{{isOngoing}}">
        <view class="text-gray text-xs">进行中</view>
      </block>
      <block wx:else>
        <view class="text-gray text-xs">已结束</view>
      </block>
    </view>
    <image class="w-40 h-full absolute top-0 right-0 bottom-0 z-10" src="/images/ic_blue_circle.svg" />
    <!-- Action button (bottom-right) -->
    <view class="absolute bottom-4 right-4 z-20">
      <block wx:if="{{isOngoing}}">
        <view class="bg-blue-500 text-white text-xs py-1dot5 px-3dot5 rounded-full">参与抽奖</view>
      </block>
      <block wx:else>
        <view class="bg-button text-white text-xs py-1dot5 px-3dot5 rounded-full">查看抽奖</view>
      </block>
    </view>
  </view>
</view>